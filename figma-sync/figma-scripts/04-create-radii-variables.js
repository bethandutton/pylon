// Pylon Radii Variables â€” Generated by figma-sync
// Execute via Figma Console MCP (figma_execute)

const collections = await figma.variables.getLocalVariableCollectionsAsync();
let collection = collections.find(c => c.name === "Pylon/Radii");
if (!collection) {
  collection = figma.variables.createVariableCollection("Pylon/Radii");
}
const modeId = collection.modes[0].modeId;

async function upsertFloat(name, value) {
  const existing = (await figma.variables.getLocalVariablesAsync("FLOAT"))
    .find(v => v.name === name && v.variableCollectionId === collection.id);
  const variable = existing || figma.variables.createVariable(name, collection, "FLOAT");
  variable.setValueForMode(modeId, value);
  variable.scopes = ["CORNER_RADIUS"];
  variable.setVariableCodeSyntax("WEB", "--pylon-radius-" + name.split("/")[1]);
}

await upsertFloat("radius/none", 0);
await upsertFloat("radius/sm", 4);
await upsertFloat("radius/md", 6);
await upsertFloat("radius/lg", 8);
await upsertFloat("radius/xl", 12);
await upsertFloat("radius/full", 9999);

const count = (await figma.variables.getLocalVariablesAsync("FLOAT"))
  .filter(v => v.variableCollectionId === collection.id).length;
console.log("\u2713 Pylon radii synced: " + count + " variables");
