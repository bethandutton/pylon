// ============================================
// PYLON RESIZABLE PANELS
// Resizable split-pane layout
// ============================================

@use 'sass:map';
@use 'sass:color';
@use '../tokens' as *;
@use '../typography' as *;

.pylon-resizable {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;

  // Vertical layout (panels stacked)
  &--vertical {
    flex-direction: column;

    .pylon-resizable__handle {
      width: 100%;
      height: 4px;
      cursor: row-resize;

      &::after {
        width: 32px;
        height: 4px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    }
  }

  &__panel {
    overflow: auto;
    min-width: 0;
    min-height: 0;
  }

  &__handle {
    flex-shrink: 0;
    width: 4px;
    height: 100%;
    background: $color-subtle;
    position: relative;
    cursor: col-resize;
    transition: background $transition-fast;

    &::after {
      content: '';
      position: absolute;
      width: 4px;
      height: 32px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: $radius-full;
      background: $color-subtle;
    }

    &:hover,
    &[data-hovered] {
      background: $color-border;

      &::after {
        background: $color-border;
      }
    }

    &[data-pressed] {
      background: $color-brand;

      &::after {
        background: $color-brand;
      }
    }

    &[data-focus-visible] {
      box-shadow: $focus-ring;
    }
  }
}
