// ============================================
// PYLON NAV / TABS
// Pairs with React Aria <Tabs>, <TabList>, <Tab>, <TabPanel>
// ============================================

@use 'sass:map';
@use '../tokens' as *;
@use '../typography' as *;

// Tabs
.pylon-tabs {
  &__list {
    display: flex;
    gap: 0;
    border-bottom: 1px solid $color-border;
  }

  &__tab {
    @include text-style('label');
    display: inline-flex;
    align-items: center;
    gap: map.get($spacing, 2);
    padding: map.get($spacing, 3) map.get($spacing, 4);
    border-bottom: 2px solid transparent;
    cursor: pointer;
    background: none;
    border-top: none;
    border-left: none;
    border-right: none;
    color: $color-muted;
    transition: color $transition-base, border-color $transition-base;
    margin-bottom: -1px;

    &:hover,
    &[data-hovered] {
      color: $color-base;
    }

    &[data-selected] {
      color: $color-brand-dark;
      border-bottom-color: $color-brand;
    }

    &[data-focus-visible] {
      box-shadow: $focus-ring;
      border-radius: $radius-sm $radius-sm 0 0;
    }

    &[data-disabled] {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }

  &__panel {
    padding: map.get($spacing, 4) 0;

    &[data-focus-visible] {
      box-shadow: $focus-ring;
      border-radius: $radius-sm;
    }
  }
}

// Sidebar nav (React Aria <ListBox> or custom)
.pylon-nav {
  display: flex;
  flex-direction: column;
  gap: map.get($spacing, 1);

  &__item {
    display: flex;
    align-items: center;
    gap: map.get($spacing, 3);
    padding: map.get($spacing, 2) map.get($spacing, 3);
    @include text-style('body');
    font-weight: 500;
    color: $color-muted;
    border-radius: $radius-md;
    cursor: pointer;
    transition: background $transition-fast, color $transition-fast;
    text-decoration: none;

    &:hover,
    &[data-hovered] {
      background: $color-surface;
      color: $color-base;
    }

    &[data-selected],
    &--active {
      background: $color-brand-light;
      color: $color-brand-dark;
    }

    &[data-focus-visible] {
      box-shadow: $focus-ring;
    }
  }

  &__section-title {
    @include text-style('overline');
    text-transform: uppercase;
    padding: map.get($spacing, 4) map.get($spacing, 3) map.get($spacing, 2);
  }
}

// Breadcrumbs (React Aria <Breadcrumbs>)
.pylon-breadcrumbs {
  display: flex;
  align-items: center;
  gap: map.get($spacing, 2);
  @include text-style('body-sm');

  &__item {
    color: $color-muted;
    text-decoration: none;

    &:hover {
      color: $color-base;
      text-decoration: underline;
    }

    &[data-current] {
      color: $color-base;
      font-weight: 500;
      pointer-events: none;
    }
  }

  &__separator {
    color: $color-subtle;
    font-size: 0.75em;
  }
}
