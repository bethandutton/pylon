// ============================================
// PYLON PROGRESS BAR
// Pairs with React Aria <ProgressBar>
// ============================================

@use 'sass:map';
@use 'sass:color';
@use '../tokens' as *;
@use '../typography' as *;

.pylon-progress {
  display: flex;
  flex-direction: column;
  gap: map.get($spacing, 2);
  width: 100%;

  &__label {
    @include text-style('caption');
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  &__track {
    width: 100%;
    height: 8px;
    background: $color-surface;
    border: 1px solid $color-border;
    border-radius: $radius-full;
    overflow: hidden;
  }

  &__fill {
    height: 100%;
    background: $color-brand;
    border-radius: $radius-full;
    transition: width $transition-base;
  }

  // Size variants
  &--sm &__track {
    height: 4px;
  }

  &--md &__track {
    height: 8px;
  }

  &--lg &__track {
    height: 12px;
  }

  // Indeterminate animation
  &--indeterminate &__fill {
    width: 40%;
    animation: pylon-progress-indeterminate 1.5s ease infinite;
  }
}

@keyframes pylon-progress-indeterminate {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(350%);
  }
}
