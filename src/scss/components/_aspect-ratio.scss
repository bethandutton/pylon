// ============================================
// PYLON ASPECT RATIO
// Constrained aspect-ratio container
// ============================================

@use 'sass:map';
@use 'sass:color';
@use '../tokens' as *;
@use '../typography' as *;

.pylon-aspect-ratio {
  position: relative;
  width: 100%;
  overflow: hidden;

  // Modern browsers: use CSS aspect-ratio property
  &--16-9 {
    aspect-ratio: 16 / 9;
  }

  &--4-3 {
    aspect-ratio: 4 / 3;
  }

  &--1-1 {
    aspect-ratio: 1 / 1;
  }

  &--21-9 {
    aspect-ratio: 21 / 9;
  }

  // Fallback: padding-top trick for older browsers
  @supports not (aspect-ratio: 1 / 1) {
    &--16-9 {
      padding-top: 56.25%;
    }

    &--4-3 {
      padding-top: 75%;
    }

    &--1-1 {
      padding-top: 100%;
    }

    &--21-9 {
      padding-top: 42.857%;
    }
  }

  // Child content fills the container
  > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  // When aspect-ratio is supported, children don't need absolute positioning
  @supports (aspect-ratio: 1 / 1) {
    > * {
      position: static;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
}
