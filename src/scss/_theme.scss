// ============================================
// PYLON THEMING
// CSS Custom Properties for runtime theming
// Supports: themes, light/dark mode, font scaling
//
// IMPORTANT: Component padding, spacing, and
// visual application are enforced by the design
// system and should NOT be overridden by consumers.
// Only theme-level tokens (colours, fonts, scale)
// are exposed as customisable properties.
// ============================================

@use 'sass:map';
@use 'tokens' as *;

// ----------------------------------------
// ROOT: Light mode (default theme)
// ----------------------------------------

:root {
  // Font scale multiplier â€” change this to scale all text
  // 1 = default (15px body), 1.1 = 110%, 0.9 = 90%
  --pylon-font-scale: 1;

  // Colour tokens
  --pylon-color-dark:          #{$color-dark};
  --pylon-color-base:          #{$color-base};
  --pylon-color-muted:         #{$color-muted};
  --pylon-color-subtle:        #{$color-subtle};
  --pylon-color-border:        #{$color-border};
  --pylon-color-surface:       #{$color-surface};
  --pylon-color-white:         #{$color-white};
  --pylon-color-bg:            #{$color-white};

  // Brand
  --pylon-color-brand:         #{$color-brand};
  --pylon-color-brand-dark:    #{$color-brand-dark};
  --pylon-color-brand-light:   #{$color-brand-light};

  // Semantic
  --pylon-color-success:       #{$color-success};
  --pylon-color-success-light: #{$color-success-light};
  --pylon-color-warning:       #{$color-warning};
  --pylon-color-warning-light: #{$color-warning-light};
  --pylon-color-error:         #{$color-error};
  --pylon-color-error-light:   #{$color-error-light};

  // Shadows
  --pylon-shadow-sm: 0 1px 3px rgba(61, 61, 58, 0.08);
  --pylon-shadow-md: 0 4px 6px rgba(61, 61, 58, 0.07);
  --pylon-shadow-lg: 0 10px 15px rgba(61, 61, 58, 0.06);

  // Focus ring
  --pylon-focus-ring: 0 0 0 2px var(--pylon-color-bg), 0 0 0 4px var(--pylon-color-brand);

  // Radii
  --pylon-radius-sm:   #{$radius-sm};
  --pylon-radius-md:   #{$radius-md};
  --pylon-radius-lg:   #{$radius-lg};
  --pylon-radius-xl:   #{$radius-xl};

  // Font families
  --pylon-font-family:      #{$font-family-base};
  --pylon-font-family-mono: #{$font-family-mono};

  // Font sizes (scaled via --pylon-font-scale)
  --pylon-font-size-display-1: calc(3rem * var(--pylon-font-scale));
  --pylon-font-size-display-2: calc(2.5rem * var(--pylon-font-scale));
  --pylon-font-size-h1:        calc(2rem * var(--pylon-font-scale));
  --pylon-font-size-h2:        calc(1.75rem * var(--pylon-font-scale));
  --pylon-font-size-h3:        calc(1.5rem * var(--pylon-font-scale));
  --pylon-font-size-h4:        calc(1.25rem * var(--pylon-font-scale));
  --pylon-font-size-h5:        calc(1.125rem * var(--pylon-font-scale));
  --pylon-font-size-h6:        calc(1rem * var(--pylon-font-scale));
  --pylon-font-size-body-lg:   calc(1.0625rem * var(--pylon-font-scale));
  --pylon-font-size-body:      calc(0.9375rem * var(--pylon-font-scale));
  --pylon-font-size-body-sm:   calc(0.8125rem * var(--pylon-font-scale));
  --pylon-font-size-caption:   calc(0.75rem * var(--pylon-font-scale));
  --pylon-font-size-overline:  calc(0.6875rem * var(--pylon-font-scale));
  --pylon-font-size-label:     calc(0.8125rem * var(--pylon-font-scale));
  --pylon-font-size-small:     calc(0.6875rem * var(--pylon-font-scale));

  // Spacing (4px base, scaled)
  --pylon-space: 0.25rem;

  // Transition durations
  --pylon-transition-fast: 120ms ease;
  --pylon-transition-base: 200ms ease;
  --pylon-transition-slow: 300ms ease;
}


// ----------------------------------------
// DARK MODE
// ----------------------------------------

[data-theme="dark"],
.pylon-dark {
  --pylon-color-dark:          #F0F0EE;
  --pylon-color-base:          #D4D4D1;
  --pylon-color-muted:         #9C9C97;
  --pylon-color-subtle:        #6B6B66;
  --pylon-color-border:        #3D3D3A;
  --pylon-color-surface:       #252523;
  --pylon-color-white:         #1A1A18;
  --pylon-color-bg:            #141412;

  --pylon-color-brand:         #8DAEC6;
  --pylon-color-brand-dark:    #A5C3D6;
  --pylon-color-brand-light:   #1E2D38;

  --pylon-color-success:       #66BB6A;
  --pylon-color-success-light: #1B2E1C;
  --pylon-color-warning:       #FFC107;
  --pylon-color-warning-light: #2E2510;
  --pylon-color-error:         #EF5350;
  --pylon-color-error-light:   #2E1616;

  --pylon-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  --pylon-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.25);
  --pylon-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.2);
}


// ----------------------------------------
// SYSTEM PREFERENCE DARK MODE
// ----------------------------------------

@media (prefers-color-scheme: dark) {
  [data-theme="system"],
  .pylon-system-theme {
    --pylon-color-dark:          #F0F0EE;
    --pylon-color-base:          #D4D4D1;
    --pylon-color-muted:         #9C9C97;
    --pylon-color-subtle:        #6B6B66;
    --pylon-color-border:        #3D3D3A;
    --pylon-color-surface:       #252523;
    --pylon-color-white:         #1A1A18;
    --pylon-color-bg:            #141412;

    --pylon-color-brand:         #8DAEC6;
    --pylon-color-brand-dark:    #A5C3D6;
    --pylon-color-brand-light:   #1E2D38;

    --pylon-color-success:       #66BB6A;
    --pylon-color-success-light: #1B2E1C;
    --pylon-color-warning:       #FFC107;
    --pylon-color-warning-light: #2E2510;
    --pylon-color-error:         #EF5350;
    --pylon-color-error-light:   #2E1616;

    --pylon-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --pylon-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.25);
    --pylon-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.2);
  }
}


// ----------------------------------------
// FONT SCALE PRESETS
// ----------------------------------------

[data-font-scale="xs"]   { --pylon-font-scale: 0.85; }
[data-font-scale="sm"]   { --pylon-font-scale: 0.925; }
[data-font-scale="md"]   { --pylon-font-scale: 1; }
[data-font-scale="lg"]   { --pylon-font-scale: 1.1; }
[data-font-scale="xl"]   { --pylon-font-scale: 1.2; }
